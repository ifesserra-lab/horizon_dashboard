---
import type { Researcher } from "../../types/researchers";

interface Props {
    researcher: Researcher;
}

const { researcher } = Astro.props;
---

<section aria-labelledby="groups-title" class="space-y-6">
    <h3
        id="groups-title"
        class="text-2xl font-bold font-['Outfit'] text-text-main py-4 border-b border-border-main"
    >
        Grupos de Pesquisa
    </h3>

    {
        researcher.research_groups.length > 0 ? (
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                {researcher.research_groups.map((group) => (
                    <a
                        href={`${import.meta.env.BASE_URL}groups/${group.id}`}
                        class="glass-card p-5 group hover:border-premium-accent/40 transition-all flex items-center gap-4"
                    >
                        <div class="w-12 h-12 rounded-xl bg-[var(--tag-bg)] flex items-center justify-center text-premium-accent font-bold group-hover:bg-premium-accent group-hover:text-white transition-colors shrink-0">
                            {group.name.charAt(0)}
                        </div>
                        <div>
                            <h4 class="font-bold text-text-main group-hover:text-premium-accent transition-colors line-clamp-2 text-sm">
                                {group.name}
                            </h4>
                            <span class="text-[10px] text-text-secondary uppercase tracking-wider font-bold">
                                Ver grupo
                            </span>
                        </div>
                    </a>
                ))}
            </div>
        ) : (
            <p class="text-text-secondary italic">
                Não está vinculado a nenhum grupo de pesquisa registrado.
            </p>
        )
    }
</section>
